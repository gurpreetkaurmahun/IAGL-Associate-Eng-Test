{"ast":null,"code":"import axios from \"axios\";\nimport { apiClient } from \"../api/ApiClient\";\nimport { FETCH_TODOS, DELETE_TODO, ADD_TODO, UPDATE_TODO_STATUS, CATCH_TODO_ERROR } from \"./types\";\nimport { retrieveAllToDos, updateToDo, deleteToDo } from \"../component/TodoApi/TodoApi\";\nexport function fetchTodos() {\n  return function (dispatch) {\n    return retrieveAllToDos().then(_ref => {\n      let {\n        data\n      } = _ref;\n      console.log(\"Fetched todos after update:\", data);\n      dispatch(setTodos(data));\n    }).catch(error => {\n      console.error(\"Error fetching todos:\", error);\n      dispatch(catchTodoError(error));\n    });\n    ;\n  };\n}\nexport const addTodos = (title, description) => {\n  return async dispatch => {\n    try {\n      const {\n        data\n      } = await apiClient.post(\"/\", {\n        title,\n        description\n      });\n      dispatch({\n        type: ADD_TODO,\n        payload: data\n      });\n    } catch (error) {\n      console.error(\"Error adding todo:\", error);\n      dispatch(catchTodoError(error));\n    }\n  };\n};\nexport const updateToDosStatus = (id, isCompleted) => {\n  return async dispatch => {\n    try {\n      const response = await updateToDo(id, isCompleted);\n      dispatch({\n        type: UPDATE_TODO_STATUS,\n        payload: response.data\n      });\n      console.log(\"Updated todo status:\", response.data);\n      return response.data;\n    } catch (error) {\n      console.error(\"Error updating todo status:\", error);\n      dispatch(catchTodoError(error));\n      throw error;\n    }\n  };\n};\nexport const deleteToDos = id => {\n  return async dispatch => {\n    try {\n      const response = await apiClient.delete(`/${id}`);\n      console.log(\"Delete response:\", response.data);\n      dispatch({\n        type: DELETE_TODO,\n        payload: id\n      });\n    } catch (error) {\n      console.error(\"Error deleting todo:\", error);\n      dispatch(catchTodoError(error));\n      throw error;\n    }\n  };\n};\nfunction setTodos(data) {\n  return {\n    type: FETCH_TODOS,\n    payload: data\n  };\n}\nexport const catchTodoError = error => ({\n  type: CATCH_TODO_ERROR,\n  payload: error.message || \"Something went wrong\"\n});","map":{"version":3,"names":["axios","apiClient","FETCH_TODOS","DELETE_TODO","ADD_TODO","UPDATE_TODO_STATUS","CATCH_TODO_ERROR","retrieveAllToDos","updateToDo","deleteToDo","fetchTodos","dispatch","then","data","console","log","setTodos","catch","error","catchTodoError","addTodos","title","description","post","type","payload","updateToDosStatus","id","isCompleted","response","deleteToDos","delete","message"],"sources":["/Users/gurpreetkaurmahun/Desktop/iagl-todo-app/IAGL-Associate-Eng-Test/src/actions/index.js"],"sourcesContent":["import axios from \"axios\";\nimport { apiClient } from \"../api/ApiClient\";\n\nimport { FETCH_TODOS,\n        DELETE_TODO,ADD_TODO,\n        UPDATE_TODO_STATUS,\n        CATCH_TODO_ERROR \n      } \n        from \"./types\";\n\nimport {retrieveAllToDos,updateToDo,deleteToDo} from \"../component/TodoApi/TodoApi\";\n\nexport function fetchTodos() \n{\n\n  return function(dispatch) {\n    return retrieveAllToDos().then(({ data }) => {\n\n        console.log(\"Fetched todos after update:\", data); \n        dispatch(setTodos(data));\n      })\n      .catch((error) => {\n        console.error(\"Error fetching todos:\", error);\n        dispatch(catchTodoError(error));\n      });;\n  };\n}\nexport const addTodos = (title, description) => {\n  return async (dispatch) => {\n    try {\n      const { data } = await apiClient.post(\"/\", { title, description });\n      dispatch({ type: ADD_TODO, payload: data });\n    } catch (error) {\n      console.error(\"Error adding todo:\", error);\n      dispatch(catchTodoError(error));\n    }\n  };\n};\n\n\nexport const updateToDosStatus = (id, isCompleted) => {\n  return async (dispatch) => {\n    try {\n      const response = await updateToDo(id,isCompleted);\n      dispatch({\n        type: UPDATE_TODO_STATUS,\n        payload: response.data,\n      });\n      console.log(\"Updated todo status:\", response.data);\n      return response.data;\n    } catch (error) {\n      console.error(\"Error updating todo status:\", error);\n      dispatch(catchTodoError(error));\n      throw error;\n    }\n  };\n};\n\nexport const deleteToDos = (id) => {\n  return async (dispatch) => {\n    try {\n      const response = await apiClient.delete(`/${id}`);\n      console.log(\"Delete response:\", response.data);\n      dispatch({ type: DELETE_TODO, payload: id });\n    } catch (error) {\n      console.error(\"Error deleting todo:\", error);\n      dispatch(catchTodoError(error));\n      throw error;\n    }\n  };\n};\n\nfunction setTodos(data) {\n  return {\n    type: FETCH_TODOS,\n    payload: data\n  };\n}\n\nexport const catchTodoError = (error) => ({\n  type: CATCH_TODO_ERROR,\n  payload: error.message || \"Something went wrong\"\n});"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}